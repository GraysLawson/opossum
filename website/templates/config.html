{% extends 'base.html' %}

{% block content %}
<h2>Configuration</h2>
<form method="post">
    <label for="discord_token">Discord Token:</label><br>
    <input type="password" id="discord_token" name="discord_token" value="{{ discord_token }}"><br><br>
    <label for="openai_api_key">OpenAI API Key:</label><br>
    <input type="password" id="openai_api_key" name="openai_api_key" value="{{ openai_api_key }}"><br><br>
    <label>Active Channels:</label><br>
    {% for channel in channels %}
        <input type="checkbox" id="channel_{{ channel.id }}" name="active_channels" value="{{ channel.id }}"
               {% if channel.id in active_channels %}checked{% endif %}>
        <label for="channel_{{ channel.id }}">{{ channel.guild_name }} - {{ channel.name }}</label><br>
    {% endfor %}
    <br>
    <label for="openai_model">OpenAI Model:</label><br>
    <select id="openai_model" name="openai_model">
        {% for model in available_models %}
            <option value="{{ model }}" {% if model == openai_model %}selected{% endif %}>{{ model }}</option>
        {% endfor %}
    </select><br><br>
    <input type="submit" value="Save">
</form>
{% endblock %}
